\chapter{Systemmodelle}

\section{Anwendungsfälle}
    % Anwendungsfall Webinterface
    \subsection{Bedienung des Webinterface}
        \includegraphics[width=1\linewidth]{diagrams/UseCaseDiagram1.png}
       
       Dieser Anwendungsfall beschreibt die Bedienung des \gls{webinterface}. Dem Nutzer stehen folgende Aktionen zur Verfügung:
       \begin{itemize}
            \item Karte anzeigen
            \item Anzeige anpassen
            \item Daten exportieren
            \item Export anpassen
        \end{itemize}
        Nachdem der Nutzer auf das Webinterface zugreift, kann er sich die Karte anzeigen lassen. Diese visualisiert die Daten, welche vom \gls{server} durch \glsdisp{datenstrom}{Streams} bereitgestellt werden. Diese können Echtzeit-, sowie historische Daten enthalten. Der Server führt im Hintergrund Vorberechnungen zur schnelleren Visualisierung durch. Die Anzeige der Karte, sowie des gesamten Interfaces lässt sich an die Wünsche des Nutzers anpassen, beispielsweise durch die Einbeziehung von Graphen zur besseren Darstellung. Die Datenbestände lassen sich herunterladen und in das gewünschte Format exportieren. Durch Beschränkung der Datenmengen auf bestimmte Zeitintervalle, Datentypen und Wertebereiche kann der Export weiter angepasst werden.
        
    % Anwendungsfall Admin-GUI
    \subsection{Bedienung der Konfigurations-GUI}
        \includegraphics[width=1\linewidth]{diagrams/UseCaseDiagram2.png}
        
        Dieser Anwendungsfall beschreibt die Bedienung der Konfigurations-GUI. Dem Admin stehen folgende Aktionen zur Verfügung:
        \begin{itemize}
            \item Server initialisieren
            \item \glsdisp{apache_kafka}{Kafka}Streams verwalten
            \item Datenbestand importieren
            \item Server warten
        \end{itemize}
        Um den Server und damit die Applikation zu starten, greift der Nutzer auf die Konfigurations-GUI zu. Er initialisiert den gestartenen Server, indem ein KafkaStream, bzw. ein Datenbestand eingefügt wird, welcher in einen Stream umgewandelt wird. Dieser wird daraufhin überprüft. Gibt es keine Probleme, so können die Nutzer des Webinterfaces nun die Streams vom Server empfangen. Außerdem ist es nun möglich, die KafkaStreams auf dem Server zu verwalten. Man kann neue Streams hinzufügen, vorhandene entfernen und enthaltene \glsdisp{sensor}{Sensoren} und Sensorendaten anzeigen. Weiterhin lässt sich der Server durch die Konfigurations-GUI warten. Man kann ihn starten, sowie beenden um Analysen durchzuführen und eventuelle Fehler zu beheben.
        
\section{Aktivitätsdiagramm}
    % Aktivitätsdiagramm
        \includegraphics[width=1\linewidth]{diagrams/ActivityDiagram1.png}
        
        Das Aktivitätsdiagramm beschreibt das Verhalten des Webdienstes, der durch das Laden der Dienstwebseite gestartet wird und durch Schließen des Tabs indem er geladen wurde wieder beendet wird.
        
        Jegliche Interaktion mit dem Dienst findet auf derselben Ansicht statt. Es ist keine Reihenfolge für die möglichen Aktionen vorgegeben. So kann unabhängig voneinander der Kartenbereich oder die Auswahl (Selektion) angepasst werden. Das gleiche gilt für das Anfordern eines Downloads allgemeiner oder selektierter Daten.
        
        Die Kartendarstellung kann angepasst werden, sodass die gewünschte Anzeige erreicht wird:
        \begin{itemize}
            \item SensorType auswählen
            \item \gls{cluster_shape} auswählen
            \item Kartenbereich zoomen
            \item Kartenbereich verschieben
            \item Liveansicht anzeigen
            \item Loopansicht anzeigen
        \end{itemize}
        Hierbei handelt es sich bei der Liveansicht, um die aktuellen Daten, während der Loop eine Schleife über die letzten 24 Stunden anzeigt.

        Die Selektion kann angepasst werden:
        \begin{itemize}
            \item Selektion eines \glsdisp{cluster}{Clusters}
            \item Selektion eines Sensors
            \item Selektion eines Datums
            \item Favoriten als Selektion übernehmen
        \end{itemize}
        Wobei ein Favorit eine zuvor definierte Selektion aus Clustern auswählt.

        Daten können exportiert werden. Dazu kann entweder die letzte Selektion verwendet werden. Alternativ wird über \gls{filter} der gewünschte Datensatz eingegrenzt. Darauf folgt dann der Download der Daten.