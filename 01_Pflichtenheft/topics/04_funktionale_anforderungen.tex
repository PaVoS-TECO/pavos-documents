\chapter{Funktionale Anforderungen}
\begin{enumerate}[label=\textbf{PF\arabic{enumi}0}]
	\setcounter{enumi}{99}
	\section{Pflicht Funktionale Anforderungen}
	\subsection{Server}

	\item \textbf{Initialisierendes Starten }\\
		Beim ersten Aufruf wird der Nutzer aufgefordert, einen Kafka Stream in die  Admin-GUI einzufügen und dessen Gültigkeit wird überprüft. \ref{Gültig}\\
		Vorbedingung: Programm wird gestartet.\\ 
		Nachbedingung: Das Programm ist einsatzbereit.\\ 
		Bei Scheitern: Kann das Programm nicht weiter genutzt werden und man wird aufgefordert einen Stream einzufügen.  
	
	\item \textbf{Kontrollieren der Gültigkeit des Streams} \label{Gültig}\\ 
		Es wird eine Verbindung zu Kafka hergestellt und seine Struktur wird für das Programm überprüft.\\ 
		Vorbedingung: Kafka-Stream wurde hinzugefügt \ref{Einfügen}\\ 
		Nachbedingung: Der Kafka Stream wird vom akzeptiert.\\ 
		Beim Scheitern: Der Benutzer wird aufgefordert einen anderen Kafka Stream einzufügen.
	
	\item \textbf{Einfügen eines Kafka Streams} \label{Einfügen}\\
		Ein Kafka Stream kann in der Admin-GUI eingefügt werden und dessen Gültigkeit wird überprüft \ref{Gültig}\\ 
		Vorbedingung: Das Programm ist gestartet\\ 
		Nachbedingung: Der Kafka Stream wird dem Programm hinzugefügt.\\ 
		Beim Scheitern: Der Kafka Stream wird nicht hinzugefügt und dem Nutzer wird die Möglichkeit geboten einen anderen Stream hinzufügen.
	
	\item \textbf{Entfernen von Stream}\\
		Ein Kafka Stream kann mit Hilfe der Admin-GUI entfernt werden und falls der Initial-Stream entfernt wird, wird das Programm gestoppt.\\ 
		Vorbedingung: Es sind Kafka Streams vorhanden\\ 
		Nachbedingung: Der Kafka Stream dem Programm entfernt.\\ 
		Beim Scheitern: Der Kafka Stream wird nicht entfernt.
		
	\item \textbf{Ein und Ausschalten des Programms}\\
		Über die Admin-GUI kann das Programm gestoppt und gestartet werden.\\
		Vorbedingung: Das Programm läuft\\  
		Nachbedingung: Das Programm wird gestoppt oder gestartet.\\ 
		Beim Scheitern: Nichts passiert und es wird eine Fehlermeldung ausgegeben.
		
	\item \textbf{Importieren von NetCDF}\\
		Eine NetCDF kann importiert werden und daraus wird ein Kafka Stream erstellt. Dieser wird dann automatisch hinzugefügt \ref{Einfügen}\\ 
		Vorbedingung: Das Programm ist gestartet\\ 
		Nachbedingung: Die Sensordaten werden verarbeitet. \\ 
		Beim Scheitern: Nichts passiert und es wird eine Fehlermeldung ausgegeben. 
		
	\item \textbf{Importieren von JSON}\\
		Eine JSON kann importiert werden und daraus wird ein Kafka Stream erstellt. Dieser wird dann automatisch hinzugefügt \ref{Einfügen}\\ 
		Vorbedingung: Das Programm ist gestartet\\ 
		Nachbedingung: Die Sensordaten werden verarbeitet. \\ 
		Beim Scheitern: Nichts passiert und es wird eine Fehlermeldung ausgegeben. 	
		
	\item \textbf{Gruppierung der Daten } \label{Group}\\ 
		Die Sensordaten werden nach Vektor und Skalare Daten gruppiert.\\ 
		Vorbedingung: Ein Kafka Stream vorhanden.\\ 
		Nachbedingung: Die Sensordaten werden weiter verarbeitet. \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.	
		
	\item \textbf{Berechnung des Mittelwerts}\label{Mittel}\\
		Von den gruppierten Sensordaten werden Mittelwerte berechnet. \ref{Group}\\ 
		Vorbedingung: Sensordaten sind gruppiert.\\ 
		Nachbedingung: Die Mittelwerte können auf der View angezeigt werden \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.	
	
		
	\item \textbf{Kafka Streams werden aufgeteilt }\\
		Die Kafka Streams werden auf verschiedene Worker-Dienste aufgeteilt und dort verarbeitet zu werden \ref{Mittel} \\
		Vorbedingung: Ein Kafka Stream vorhanden\\
		Nachbedingung: Die Daten werden erfolgreich verarbeitet. \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben. 
	
	\item \textbf{Clusterposition berechnen } \label{Kachel}\\
		Aus den Sensordaten werden Cluster berechnet. \\
		Vorbedingung: Mittelwert wurde berechnet\\
		Nachbedingung: Diese Kacheln können in der View angezeigt werden \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben. 
		
	\item \textbf{Clustergröße berechnen } \\
		Die Größe der Cluster kann in der Konfiguration-GUI eingestellt werden \\
		Vorbedingung: Clusterposition wurde berechnet\\
		Nachbedingung: Die Cluster werden angepasst \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben. 
		
	\item \textbf{Clusterform auswählen  } \\
		Die Form der Cluster kann in der Konfiguration-GUI eingestellt werden \\
			Vorbedingung: Clusterposition wurde berechnet\\
		Nachbedingung: Die Cluster werden angepasst \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
	
	\item \textbf{Cluster werden an View gesendet } \label{send}\\
		Die Cluster werden an die View gesendet um dort angezeigt zu werden \\
		Vorbedingung: Clusterposition, Clustergröße und Clusterform wurde berechnet.\\
		Nachbedingung: Die Cluster werden von der View entgegengenommen.  \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
		
	\item \textbf{Sensoren in Tabellenansicht} \\
		Die einzelnen Sensoren werden in einer Tabelle anzeigt  \\
		Vorbedingung: Kafka Stream vorhanden\\
		Nachbedingung: Die Sensoren können angezeigt werden \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
	
		\item \textbf{Sensoren sortieren nach ihren Parameter} \\
		Man kann die Sensoren in der Tabellenansicht sortieren nach ihren Parameter\\
		Vorbedingung: Sensordaten in der Tabelle vorhanden\\
		Nachbedingung: Die Sensoren können angezeigt werden \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
		
		%Statisitken 
	\item \textbf{Intervallspeicherung der Daten der Sensoren} \label{zeitinter}\\
		In einem fest definierbaren Intervall werden Daten für Sensoren in einem Datenerhaltungssystem gespeichert.  \\
		Vorbedingung: Kafka Stream muss vorhanden sein\\
		Nachbedingung: Die Daten werden für Statistiken weiterverarbeitet.  \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
	
	\item \textbf{Berechnung von Zeitstatistiken für Sensoren } \label{single}\\
		Aus der Intervallspeicherung \ref{zeitinter} einzelne Sensoren werden die Daten in eine Zeitstatistik umformatiert.\\
		Vorbedingung: Intervallspeicherung vorhanden\\
		Nachbedingung: Die Daten werden an die View weiter gegeben  \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
	
	\item \textbf{Berechnung von Zeitstatistiken für Cluster } \label{stat} \\
		Aus den Zeitstatistiken der einzelne Sensoren \ref{zeitinter} werden in Cluster zusammen formatiert.\\
		Vorbedingung: Intervallspeicherung vorhanden\\
		Nachbedingung: Die Daten werden an die View weiter gegeben  \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
	
		%%Export --- (21:04)
	
	\item \textbf{Export der Daten als NetCDF } \label{netcdf}\\
		Die Sensordaten können in einem Zeitleichenintervall in dem Format NetCDF exportiert werden \\
		Vorbedingung: Kafka Stream vorhanden \\
		Nachbedingung: Die Daten werden exportiert \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
	
	\item \textbf{Export der Daten als JSON } \label{json}\\
		Die Sensordaten können in einem Zeitleichenintervall in dem Format JSON exportiert werden \\
		Vorbedingung: Kafka Stream vorhanden \\
		Nachbedingung: Die Daten werden exportiert \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
		
	%%Client Worker
	
%%%%%	\item \textbf{Daten werden an Webinterface gesendet} \label{FAWebsend}\\
	%	Die Daten aus dem Datenerhaltungssystem und vom Kafka Stream können an das %Webinterface gesendet werden.
	 	
	% \item \textbf{Hinzufügen weiter Module}\\
	%	 Der Dienst ist so aufgebraucht, dass es dem Nutzer und Programmierer möglich sein %wird, auf dem einzelnen Interface zuzugreifen und so neue Module für den Dienst zu entwickeln um das System zu erweitern. Ein Beispiel wäre neue Exportformate hinzuzufügen oder ein Modul zwischen Server-Dienst und Webinterfaces zu setzten. 
	 
%	 \item \textbf{Der Dienst unterstützt skalar- und vektorwertige Sensortypen}
	% 	Der Dienst unterstützt beim Kafka Stream und beim Import von Sensor Daten nur Skalar Sensortypen und vekorwertige Sensortypen. Falls andere Sensortypen im Stream entdeckt werden, dann wird dem Nutzer eine Anleitung angezeigt wie er selbst ein neuen Sensortyp hinzufügen kann.
 
	 \subsection{Webinterface}
	 
	 \item \textbf{Mehrere Instanzen des Webinterface}\\
		 Mehre Instanzen des Webinterfaces werden aufrufbar sein, so dass mehre Nutzer gleichzeitig mit den Sensordaten arbeiten können.
		 Vorbedingung: Kafka Stream vorhanden\\
		 Nachbedingung: View wird angezeigt\\ 
	 	Beim Scheitern: Es wird eine Fehlermeldung in den Log geschrieben.

	 \item \textbf{Sensordaten werden auf der Karte dargestellt }\\
	 	Nach dem die Daten an die View gesendet wurden \ref{send}, werden sie auf der Karte angezeigt.\\
	 	Vorbedingung: Daten wurden an die View gesendet \\
	 	Nachbedingung: Die Daten werden angezeigt \\ 
	 	Beim Scheitern: Es wird eine Fehlermeldung in den Log geschrieben.
	 
	 \item \textbf{Verschiedene Sensor darstellen}\\
	 	Man kann die dargestellten Sensoren einteilen von deren Typ.
	 	Vorbedingung: Es werden Sensordaten angezeigt\\
	 	Nachbedingung: Die Einteilung wird angezeigt \\ 
	 	Beim Scheitern: Es wird eine Fehlermeldung in den Log geschrieben.
	 
	 \item \textbf{Verschiedene Cluster}\\
	 	Man kann die Karte in verschiedene Cluster einteilen.
	 	Vorbedingung: Es werden Sensordaten angezeigt\\
	 	Nachbedingung: Die Einteilung wird angezeigt \\ 
	 	Beim Scheitern: Es wird eine Fehlermeldung in den Log geschrieben.
		
	\item \textbf{Export von Daten}\\
		Man kann die Daten auf der View exportieren in Json und netCDF \ref{netcdf} \ref{json}	\\
		Vorbedingung: Kafka Stream vorhanden \\
		Nachbedingung: Die Daten werden exportiert \\ 
		Beim Scheitern: Es wird eine passende Fehlermeldung ausgegeben.
		
	\item \textbf{Wiederholung anzeigen}\\
		Auf der View kann man Daten mit Hilfe von einem Slider als Wiederholung anzeigen lassen.\\
		Vorbedingung: Daten wurden an die View gesendet\\
		Nachbedingung: Die Wiederholung wird angezeigt.\\ 
		Beim Scheitern: Es wird eine Fehlermeldung in den Log geschrieben.
		

	\item \textbf{Detail Ansicht von Sensoren}\\
		Auf der View kann man von einzelnen Sensoren eine Detailansicht darstellen um so nähere Informationen über den Sensor zu erhalten. \ref{single}
		Vorbedingung: Kafka Stream vorhanden \\
		Nachbedingung: Die Details werden angezeigt \\ 
		Beim Scheitern: Es wird eine Fehlermeldung in den Log geschrieben.
		
	\item \textbf{Statisten anzeigen}\\
		Auf der View kann man sich vorberechnen Statistiken anzeigen lassen \ref{single}\ref{stat}
		Vorbedingung: Kafka Stream vorhanden \\
		Nachbedingung: Die Statistiken werden angezeigt \\ 
		Beim Scheitern: Es wird eine Fehlermeldung in den Log geschrieben.
		
	\item \textbf{Echtzeitdaten}\\
		Es besteht immer die Möglichkeit sich die Echtzeitdaten für ein Cluster oder Sensor anzeigen zu lassen
		Vorbedingung: Kafka Stream vorhanden \\
		Nachbedingung: Die Echtzeitdaten werden angezeigt\\ 
		Beim Scheitern: Es wird eine Fehlermeldung in den Log geschrieben.
		
	\item \textbf{Zoomen in die Karte}\\
		Auf der angezeigten Karte kann man rein und raus zoomen und die Cluster werden entsprechend angepasst
		Vorbedingung: Karte wird angezeigt. \\
		Nachbedingung: Die Daten werden angezeigt.\\ 
		Beim Scheitern: Es wird eine Fehlermeldung in den Log geschrieben.
		
		
\end{enumerate}

\begin{enumerate}[label=\textbf{WF\arabic{enumi}0}]
	\setcounter{enumi}{99}
	\section{Wunsch Funktionale Anforderungen}
	
	\subsection{Server}
	

	
	\item \textbf{Der Dienst sucht nach Fehlerhaften Sensordateien}\\
	Der Dienst überprüft im Datenerhaltungssystem ob Sensordaten Outlier sein können und gibt den Nutzer eine Meldung, was an den Daten ungewöhnlich ist.
	Vorbedingung: Kafka Stream vorhanden \\
	Nachbedingung: Fehlerhafte Daten werden angezeigt.\\ 
	 
	\item \textbf{Mehrere Sprachen}\\
	Die Anzeigesprache kann in mehre Sprachen geändert werden.
	Vorbedingung: Programm gestartet. \\
	Nachbedingung: Sprache wird umgesetzt\\ 
	
	
	
		
	\subsection{Webinterface}
	\item \textbf{Favoriten}\\
		Man kann Elemente auf der View favorisieren um somit schneller zu denen gelangen bei späteren einsehen \\
		Vorbedingung: Favoriten Symbol muss vorhanden sein \\
		Nachbedingung: Favorit wird gespeichert\\ 
	
	\item \textbf{Mehre Ansichten}\\
		Man kann 2 Karten mit verschiedenen Datensätzen neben einander setzten um diese zu vergleichen \\
		Vorbedingung: Kafka Stream muss vorhanden sein\\
		Nachbedingung: Parallele Ansicht\\ 
	
	\item \textbf{Eigene Filter}\\
		Man kann eigene Filter erstellen um seine Analyse genauer durch zu führen\\
		Vorbedingung: Kafka Stream muss vorhanden sein\\
		Nachbedingung: Filter-Ansicht\\ 

\end{enumerate}
	
	 
	  
